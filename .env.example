# Sentry Self-Hosted Production Configuration
# Copy this file to .env.production and customize the values

# ============================================
# DOCKER COMPOSE CONFIGURATION
# ============================================

# Docker Compose project name (used for container naming)
COMPOSE_PROJECT_NAME=sentry-self-hosted

# ============================================
# REQUIRED CONFIGURATION
# ============================================

# Secret key for Sentry (will be auto-generated if set to !!changeme!!)
# Generate with: head /dev/urandom | tr -dc "a-z0-9@#%^&*(-_=+)" | head -c 50
SENTRY_SYSTEM_SECRET_KEY=!!changeme!!

# Mail server hostname (required for email notifications)
# Example: mail.example.com
SENTRY_MAIL_HOST=

# Port to bind Sentry web interface
# Example: 9000 or 0.0.0.0:9000
SENTRY_BIND=9000

# ============================================
# FEATURE CONFIGURATION
# ============================================

# Compose profiles to enable
# Options: errors-only, feature-complete
# - errors-only: Minimal setup for error monitoring only
# - feature-complete: Full Sentry features (performance, profiling, replays, etc.)
COMPOSE_PROFILES=feature-complete

# Event retention period in days
SENTRY_EVENT_RETENTION_DAYS=90

# ============================================
# DOCKER IMAGES
# ============================================

# Sentry service images (use specific versions in production)
# Examples: 
#   ghcr.io/getsentry/sentry:24.1.0
#   ghcr.io/getsentry/sentry:nightly (for latest)
SENTRY_IMAGE=ghcr.io/getsentry/sentry:nightly
SNUBA_IMAGE=ghcr.io/getsentry/snuba:nightly
RELAY_IMAGE=ghcr.io/getsentry/relay:nightly
SYMBOLICATOR_IMAGE=ghcr.io/getsentry/symbolicator:nightly
TASKBROKER_IMAGE=ghcr.io/getsentry/taskbroker:nightly
VROOM_IMAGE=ghcr.io/getsentry/vroom:nightly
UPTIME_CHECKER_IMAGE=ghcr.io/getsentry/uptime-checker:nightly

# ============================================
# OPTIONAL CONFIGURATION
# ============================================

# Maximum size for external sourcemaps
SENTRY_MAX_EXTERNAL_SOURCEMAP_SIZE=1M

# PostgreSQL user (defaults to postgres)
# POSTGRES_USER=postgres

# StatsD server for metrics (optional)
# Example: 127.0.0.1:8125
# STATSD_ADDR=

# Docker platform override (for Apple Silicon Macs)
# DOCKER_PLATFORM=linux/arm64

# ============================================
# INITIALIZATION OPTIONS
# ============================================

# Skip automatic user creation during initialization (0=create user, 1=skip)
SKIP_USER_CREATION=0

# Skip Snuba migrations (useful for testing, not recommended for production)
# SKIP_SNUBA_MIGRATIONS=

# Skip Sentry migrations (useful for testing, not recommended for production)
# SKIP_SENTRY_MIGRATIONS=

# Setup JS SDK assets (0=skip, 1=setup)
# SETUP_JS_SDK_ASSETS=0
